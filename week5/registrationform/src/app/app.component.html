<div class="container">
  <div class="row mt-5">
    <div class="col">
      <h1>{{ title }}</h1>
    </div>
  </div>
  <div class="row" *ngIf="valid == true">
    <div class="col alert alert-success">
      Thank you for registering with us {{users[users.length - 1].first}}. We just sent you a confirmation email at {{users[users.length - 1].email}} and will send all
      mail to {{users[users.length - 1].address}} {{users[users.length - 1].unit}} {{users[users.length - 1].city}} {{users[users.length - 1].state}}

      <p>Have a wonderful day!</p>
    </div>
  </div>
  <div class="row">
    <div class="col">
      <form #myForm="ngForm" (submit)='submit($event, myForm)'>
        <fieldset class="border border-dark p-3">
          <legend>Account Information</legend>
          <div class="row">
            <div class="col-7 pl-5">
              <div class="form-group">
                <div class="row ml-5 pl-5">
                  <label for="first" class="col-3 col-form-label">First Name : </label>
                  <div class="col-9">
                    <input type="text" class="form-control" name="first" [(ngModel)]="user.first" #first="ngModel" required minlength="2" maxlength="20">
                  </div>
                </div>
              </div>
            </div>
            <div class="col-5 text-danger col-form-label" *ngIf="!first.valid && first.dirty">Must be between 2 and 20 characters</div>
          </div>
          <div class="row">
            <div class="col-7 pl-5">
              <div class="form-group">
                <div class="row ml-5 pl-5">
                  <label for="last" class="col-3 col-form-label">Last Name : </label>
                  <div class="col-9">
                    <input type="text" class="form-control" name="last" [(ngModel)]="user.last" #last="ngModel" required minlength="2" maxlength="20">
                  </div>
                </div>
              </div>
            </div>
            <div class="col-5 text-danger col-form-label" *ngIf="!last.valid && last.dirty">Must be between 2 and 20 characters</div>
          </div>
          <div class="row">
            <div class="col-7 pl-5">
              <div class="form-group">
                <div class="row ml-5 pl-5">
                  <label for="email" class="col-3 col-form-label">Email : </label>
                  <div class="col-9">
                    <input type="text" class="form-control" name="email" [(ngModel)]="user.email" required pattern="^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,3})+$"
                      #email="ngModel">
                  </div>
                </div>
              </div>
            </div>
            <div class="col-5 text-danger col-form-label" *ngIf="!email.valid && email.dirty">Must be a valid email</div>
          </div>
          <div class="row">
            <div class="col-7 pl-5">
              <div class="form-group">
                <div class="row ml-5 pl-5">
                  <label for="password" class="col-3 col-form-label">Password : </label>
                  <div class="col-9">
                    <input type="password" class="form-control" name="password" [(ngModel)]="user.password" #password="ngModel" required minlength="8"
                      maxlength="20">
                  </div>
                </div>
              </div>
            </div>
            <div class="col-5 text-danger col-form-label" *ngIf="!password.valid && password.dirty">Must be between 8 and 20 characters</div>
          </div>
          <div class="row">
            <div class="col-7 pl-5">
              <div class="form-group">
                <div class="row ml-5 pl-5">
                  <label for="confirm_pw" class="col-3 col-form-label">Confirm PW : </label>
                  <div class="col-9">
                    <input type="password" class="form-control" name="confirm_pw" [(ngModel)]="user.confirm_pw" #confirm_pw="ngModel" required>
                  </div>
                </div>
              </div>
            </div>
            <div class="col-5 text-danger col-form-label" *ngIf="!confirm_pw.valid && confirm_pw.dirty">Required</div>
            <div class="col-5 text-danger col-form-label" *ngIf="pw_match == false && myForm.valid">Passwords must match</div>
          </div>
          <div class="row">
            <div class="col-7 pl-5">
              <div class="form-group">
                <div class="row ml-5 pl-5">
                  <label for="address" class="col-3 col-form-label">Address : </label>
                  <div class="col-9">
                    <input type="text" class="form-control" name="address" [(ngModel)]="user.address" #address="ngModel" required minlength="8"
                      maxlength="20">
                  </div>
                </div>
              </div>
            </div>
            <div class="col-5 text-danger col-form-label" *ngIf="!address.valid && address.dirty">Must be between 8 and 20 characters</div>
          </div>
          <div class="row">
            <div class="col-7 pl-5">
              <div class="form-group">
                <div class="row ml-5 pl-5">
                  <label for="unit" class="col-3 col-form-label">Unit/Apt : </label>
                  <div class="col-9">
                    <input type="text" class="form-control" name="unit" [(ngModel)]="user.unit" #unit="ngModel">
                  </div>
                </div>
              </div>
            </div>
          </div>
          <div class="row">
            <div class="col-7 pl-5">
              <div class="form-group">
                <div class="row ml-5 pl-5">
                  <label for="city" class="col-3 col-form-label">City : </label>
                  <div class="col-9">
                    <input type="text" class="form-control" name="city" [(ngModel)]="user.city" #city="ngModel" required>
                  </div>
                </div>
              </div>
            </div>
            <div class="col-5 text-danger col-form-label" *ngIf="!city.valid && city.dirty">Required</div>
          </div>
          <div class="row">
            <div class="col-7 pl-5">
              <div class="form-group">
                <div class="row ml-5 pl-5">
                  <label for="state" class="col-3 col-form-label">State : </label>
                  <div class="col-9">
                    <select name="state" class="form-control" name="state" [(ngModel)]="user.state" #state="ngModel" required>
                      <option value=""></option>
                      <option value="AL">Alabama</option>
                      <option value="AK">Alaska</option>
                      <option value="AZ">Arizona</option>
                      <option value="AR">Arkansas</option>
                      <option value="CA">California</option>
                      <option value="CO">Colorado</option>
                      <option value="CT">Connecticut</option>
                      <option value="DE">Delaware</option>
                      <option value="DC">District of Columbia</option>
                      <option value="FL">Florida</option>
                      <option value="GA">Georgia</option>
                      <option value="HI">Hawaii</option>
                      <option value="ID">Idaho</option>
                      <option value="IL">Illinois</option>
                      <option value="IN">Indiana</option>
                      <option value="IA">Iowa</option>
                      <option value="KS">Kansas</option>
                      <option value="KY">Kentucky</option>
                      <option value="LA">Louisiana</option>
                      <option value="ME">Maine</option>
                      <option value="MD">Maryland</option>
                      <option value="MA">Massachusetts</option>
                      <option value="MI">Michigan</option>
                      <option value="MN">Minnesota</option>
                      <option value="MS">Mississippi</option>
                      <option value="MO">Missouri</option>
                      <option value="MT">Montana</option>
                      <option value="NE">Nebraska</option>
                      <option value="NV">Nevada</option>
                      <option value="NH">New Hampshire</option>
                      <option value="NJ">New Jersey</option>
                      <option value="NM">New Mexico</option>
                      <option value="NY">New York</option>
                      <option value="NC">North Carolina</option>
                      <option value="ND">North Dakota</option>
                      <option value="OH">Ohio</option>
                      <option value="OK">Oklahoma</option>
                      <option value="OR">Oregon</option>
                      <option value="PA">Pennsylvania</option>
                      <option value="RI">Rhode Island</option>
                      <option value="SC">South Carolina</option>
                      <option value="SD">South Dakota</option>
                      <option value="TN">Tennessee</option>
                      <option value="TX">Texas</option>
                      <option value="UT">Utah</option>
                      <option value="VT">Vermont</option>
                      <option value="VA">Virginia</option>
                      <option value="WA">Washington</option>
                      <option value="WV">West Virginia</option>
                      <option value="WI">Wisconsin</option>
                      <option value="WY">Wyoming</option>
                    </select>
                  </div>
                </div>
              </div>
            </div>
            <div class="col-5 text-danger col-form-label" *ngIf="!state.valid && state.dirty">Required</div>
          </div>
          <div class="row">
            <div class="col-7 pl-5">
              <div class="form-group">
                <div class="row ml-5 pl-5">
                  <label for="lucky" class="col-3 col-form-label">Lucky? : </label>
                  <div class="col-9">
                    <div class="btn-group">
                      <label class="btn btn-success">
                        <input type="radio" name="lucky" required [(ngModel)]="user.lucky" #lucky="ngModel" value="true"> Yes
                      </label>
                      <label class="btn btn-danger">
                        <input type="radio" name="lucky" required [(ngModel)]="user.lucky" #lucky="ngModel" value="false"> No
                      </label>
                    </div>
                  </div>
                </div>
              </div>
            </div>
            <div class="col-5 text-danger col-form-label" *ngIf="!lucky.valid && lucky.dirty">Required</div>
          </div>
        </fieldset>
        <input type="submit" value="Register" class="btn btn-primary btn-block mt-2" [disabled]='!myForm.valid'>
      </form>
    </div>
  </div>
</div>

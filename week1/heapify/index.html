<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <title>Heapify</title>
        <script>
            function heapify(arr){
                arr.push(arr[0]);
                arr[0] = undefined;
                
                var currentParent = null;
                for ( let i = arr.length - 1; i > 1; i--){
                    if (arr[i * 2] != undefined || arr[i * 2 + 1] != undefined){
                        currentParent = i;
                        break;
                    }
                }   
                console.log(currentParent);                
                console.log(arr); 

               while (currentParent > 0){
                var tmp = null;
                if ( arr[currentParent] > arr[currentParent * 2]){
                  tmp = arr[currentParent * 2];
                  arr[currentParent * 2] = arr[currentParent];
                  arr[currentParent] = tmp;    
                }
                currentParent--;
               }
                
                console.log(arr);                
            }
            // sample output
            heapify([20, 3, 8, 14, 9, 6, 2]);
            // alters the array to [undefined, 2, 6, 3, 9, 8, 14, 20]        
        </script>
    </head>
    <body>

    </body>
</html>
